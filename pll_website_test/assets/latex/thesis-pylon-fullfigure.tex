\documentclass[11pt,preview]{standalone}

\input{thesis-preamble.tex}

\begin{document}

\begin{figure}
\[\bfig
\node A4(-350,-100)[A_4]
\node B4(350,-100)[B_4]
\node As3(-600,-400)[A^s_3]
\node At3(-100,-400)[A^t_3]
\node Bs3(100,-400)[B^s_3]
\node Bt3(600,-400)[B^t_3]
\node As2(-600,-800)[A^s_2]
\node At2(-100,-800)[\phantom{A^t_2}]
\node AtBs(0,-800)[A^t_2\! =\! B^s_2]
\node Bs2(100,-800)[\phantom{B^s_2}]
\node Bt2(600,-800)[B^t_2]
\node As1(-300,-1200)[A^s_1\!=\!B^s_1]
\node At1(300,-1200)[A^t_1\!=\!B^t_1]
\node As0(-300,-1600)[A^s_0\!=\!B^s_0]
\node At0(300,-1600)[A^t_0\!=\!B^t_0]
%
\arrow[A4`As3;]
\arrow[A4`At3;]
%
\arrow[B4`Bs3;]
\arrow[B4`Bt3;]
%
\arrow[As3`As2;]
\arrow[As3`At2;]
\arrow[At3`As2;]
\arrow[At3`At2;]
%
\arrow[Bs3`Bs2;]
\arrow[Bs3`Bt2;]
\arrow[Bt3`Bs2;]
\arrow[Bt3`Bt2;]
%
\arrow[As2`As1;]
\arrow[As2`At1;]
\arrow[AtBs`As1;]
\arrow[AtBs`At1;]
\arrow[Bt2`As1;]
\arrow[Bt2`At1;]
%
\arrow[As1`As0;]
\arrow[As1`At0;]
\arrow[At1`As0;]
\arrow[At1`At0;]
\efig
\qquad \to/{|->}/ \qquad 
\bfig
\node AxB4(0,-100)[A_4 \times_{A^t_2} B_4]
\node AxBs3(-300,-400)[A^s_3 \times_{A^t_2} B^s_3]
\node AxBt3(300,-400)[A^t_3 \times_{A^t_2} B^s_3]
\node As2(-300,-800)[A^s_2]
\node Bt2(300,-800)[B^t_2]
\node As1(-300,-1200)[A^s_1\!=\!B^s_1]
\node At1(300,-1200)[A^t_1\!=\!B^t_1]
\node As0(-300,-1600)[A^s_0\!=\!B^s_0]
\node At0(300,-1600)[A^t_0\!=\!B^t_0]
%
\arrow[AxB4`AxBs3;]
\arrow[AxB4`AxBt3;]
%
\arrow[AxBs3`As2;]
\arrow[AxBs3`Bt2;]
\arrow[AxBt3`As2;]
\arrow[AxBt3`Bt2;]
%
\arrow[As2`As1;]
\arrow[As2`At1;]
\arrow[Bt2`As1;]
\arrow[Bt2`At1;]
%
\arrow[As1`As0;]
\arrow[As1`At0;]
\arrow[At1`As0;]
\arrow[At1`At0;]
\efig
\]
\caption{\label{fig:composite-spans} A 2-composition of 4-spans $B \tensor_2 A$}
\end{figure}

\end{document}

